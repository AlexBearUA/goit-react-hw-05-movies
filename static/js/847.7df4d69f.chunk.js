"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[847],{847:function(e,t,n){n.r(t);var r=n(439),a=n(689),i=n(87),s=n(791),c=n(691),o=n(713),u=n(184);t.default=function(){var e,t,n=(0,a.UO)().movieId,l=(0,a.TH)(),p=(0,s.useRef)(null!==(e=null===(t=l.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies"),d=(0,s.useState)([]),v=(0,r.Z)(d,2),h=v[0],f=h.original_title,m=h.poster_path,g=h.vote_average,x=h.overview,_=h.genres,w=v[1];return(0,s.useEffect)((function(){o.Z.getMovieById(n).then((function(e){return w(e)})).catch((function(e){return console.log(e)}))}),[n]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.rU,{className:"nav-link",to:p.current,children:"Back to movies"}),(0,u.jsx)("h2",{className:"movie-title",children:f}),(0,u.jsxs)("div",{className:"movie-card",children:[(0,u.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(m),alt:f}),(0,u.jsxs)("div",{className:"movie-info",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"details-item",children:"User score: "}),Math.round(10*g),"%"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"details-item",children:"Overview:"})," ",x]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"details-item",children:"Genres:"}),_&&_.reduce((function(e,t){return e+" "+t.name}),"")]})]})]}),(0,u.jsxs)("ul",{className:"movie-details",children:[(0,u.jsx)("li",{children:(0,u.jsx)(i.rU,{className:"movie-details-link",to:"cast",children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(i.rU,{className:"movie-details-link",to:"reviews",children:"Reviews"})})]}),(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(c.s5,{strokeColor:"#3f51b5",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0}),children:(0,u.jsx)(a.j3,{})})]})}},713:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(861),a=n(757),i=n.n(a),s=n(243),c=function(e){return e.map((function(e){return{id:e.id,title:e.title,poster_path:e.poster_path}}))},o=function(e){return{original_title:e.original_title,poster_path:e.poster_path,genres:e.genres,vote_average:e.vote_average,overview:e.overview}},u=function(e){return e.map((function(e){return{original_name:e.original_name,character:e.character,profile_path:e.profile_path,credit_id:e.credit_id}}))},l=function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))},p="5436fbaf6b3dd7d125e5fbc4adba788b",d="https://api.themoviedb.org/3";function v(){return(v=(0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(d,"/trending/movie/week?api_key=").concat(p));case 2:return t=e.sent,n=t.data.results,e.abrupt("return",c(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(d,"/search/movie?api_key=").concat(p,"&language=en-US&page=1&query=").concat(t));case 2:return n=e.sent,r=n.data,a=r.results,o=r.total_results,e.abrupt("return",{movies:c(a),totalResults:o});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(d,"/movie/").concat(t,"?api_key=").concat(p,"&append_to_response=videos&language=en-US"));case 2:return n=e.sent,r=n.data,e.abrupt("return",o(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(d,"/movie/").concat(t,"/credits?api_key=").concat(p,"&language=en-US"));case 2:return n=e.sent,r=n.data.cast,e.abrupt("return",u(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(d,"/movie/").concat(t,"/reviews?api_key=").concat(p,"&language=en-US"));case 2:return n=e.sent,r=n.data.results,e.abrupt("return",l(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x={getTrendMovies:function(){return v.apply(this,arguments)},getMovieById:function(e){return f.apply(this,arguments)},getMovieCredits:function(e){return m.apply(this,arguments)},getMovieReviews:function(e){return g.apply(this,arguments)},getMoviesByQuery:function(e){return h.apply(this,arguments)}},_=x}}]);
//# sourceMappingURL=847.7df4d69f.chunk.js.map