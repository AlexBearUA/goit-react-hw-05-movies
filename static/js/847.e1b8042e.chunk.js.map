{"version":3,"file":"static/js/847.e1b8042e.chunk.js","mappings":"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","sources":["pages/MovieDetails.js","services/helpers.js","services/movies-api.js"],"sourcesContent":["import {\n  useParams,\n  useLocation,\n  Link,\n  Outlet,\n  useNavigate,\n} from 'react-router-dom';\nimport { useEffect, useRef, Suspense, useState } from 'react';\nimport { RotatingLines } from 'react-loader-spinner';\nimport moviesAPI from '../services/movies-api';\nimport noPoster from '../images/no_poster_cr.jpg';\nimport { HiArrowLeft } from 'react-icons/hi';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n  const [\n    { original_title, poster_path, vote_average, overview, genres },\n    setMovie,\n  ] = useState([]);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    moviesAPI\n      .getMovieById(movieId)\n      .then(movie => {\n        setMovie(movie);\n      })\n      .catch(error => {\n        error.response.status === 404 && navigate('*', { replace: false });\n        console.log(error);\n      });\n  }, [movieId, navigate]);\n\n  return (\n    <>\n      <Link className=\"nav-link\" to={backLinkLocationRef.current}>\n        <HiArrowLeft /> Go back\n      </Link>\n      <h2 className=\"movie-title\">{original_title}</h2>\n      <div className=\"movie-card\">\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w300${poster_path}`\n              : noPoster\n          }\n          alt={original_title}\n        />\n\n        <div className=\"movie-info\">\n          <p>\n            <span className=\"details-item\">User score: </span>\n            {Math.round(vote_average * 10)}%\n          </p>\n          <p>\n            <span className=\"details-item\">Overview: </span>\n            {overview ? overview : 'no information'}\n          </p>\n          <p>\n            <span className=\"details-item\">Genres: </span>\n            {genres && genres.length > 0\n              ? genres.reduce((resultString, genre) => {\n                  return resultString + ' ' + genre.name;\n                }, '')\n              : 'no information'}\n          </p>\n        </div>\n      </div>\n      <ul className=\"movie-details\">\n        <li>\n          <Link className=\"movie-details-link\" to=\"cast\">\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link className=\"movie-details-link\" to=\"reviews\">\n            Reviews\n          </Link>\n        </li>\n      </ul>\n      <Suspense\n        fallback={\n          <RotatingLines\n            strokeColor=\"#3f51b5\"\n            strokeWidth=\"5\"\n            animationDuration=\"0.75\"\n            width=\"96\"\n            visible={true}\n          />\n        }\n      >\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\nexport default MovieDetails;\n","const normalaziedMovies = movies => {\n  return movies.map(({ id, title, poster_path }) => ({\n    id,\n    title,\n    poster_path,\n  }));\n};\n\nconst normalaziedMovie = ({\n  original_title,\n  poster_path,\n  genres,\n  vote_average,\n  overview,\n}) => ({ original_title, poster_path, genres, vote_average, overview });\n\nconst normalaziedCredits = credits => {\n  return credits.map(\n    ({ original_name, character, profile_path, credit_id }) => ({\n      original_name,\n      character,\n      profile_path,\n      credit_id,\n    })\n  );\n};\n\nconst normalaziedReviews = reviews => {\n  return reviews.map(({ author, content, id }) => ({\n    author,\n    content,\n    id,\n  }));\n};\n\nexport {\n  normalaziedMovies,\n  normalaziedMovie,\n  normalaziedCredits,\n  normalaziedReviews,\n};\n","import axios from 'axios';\nimport {\n  normalaziedMovies,\n  normalaziedMovie,\n  normalaziedCredits,\n  normalaziedReviews,\n} from '../services/helpers';\n\nconst API_KEY = '5436fbaf6b3dd7d125e5fbc4adba788b';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nasync function getTrendMovies() {\n  const {\n    data: { results },\n  } = await axios.get(`${BASE_URL}/trending/movie/week?api_key=${API_KEY}`);\n  return normalaziedMovies(results);\n}\n\nasync function getMoviesByQuery(query) {\n  const {\n    data: { results, total_results },\n  } = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&query=${query}`\n  );\n  return { movies: normalaziedMovies(results), totalResults: total_results };\n}\n\nasync function getMovieById(id) {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${id}?api_key=${API_KEY}&append_to_response=videos&language=en-US`\n  );\n\n  return normalaziedMovie(data);\n}\n\nasync function getMovieCredits(id) {\n  const {\n    data: { cast },\n  } = await axios.get(\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n\n  return normalaziedCredits(cast);\n}\n\nasync function getMovieReviews(id) {\n  const {\n    data: { results },\n  } = await axios.get(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n\n  return normalaziedReviews(results);\n}\n\nconst api = {\n  getTrendMovies,\n  getMovieById,\n  getMovieCredits,\n  getMovieReviews,\n  getMoviesByQuery,\n};\n\nexport default api;\n"],"names":["movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useState","original_title","poster_path","vote_average","overview","genres","setMovie","navigate","useNavigate","useEffect","moviesAPI","then","movie","catch","error","response","status","replace","console","log","className","to","current","src","noPoster","alt","Math","round","length","reduce","resultString","genre","name","Suspense","fallback","strokeColor","strokeWidth","animationDuration","width","visible","normalaziedMovies","movies","map","id","title","normalaziedMovie","normalaziedCredits","credits","original_name","character","profile_path","credit_id","normalaziedReviews","reviews","author","content","API_KEY","BASE_URL","getTrendMovies","axios","results","data","getMoviesByQuery","query","total_results","totalResults","getMovieById","getMovieCredits","cast","getMovieReviews","api"],"sourceRoot":""}